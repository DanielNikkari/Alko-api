<!-- HEADER -->
<div align="center">
    <a href="https://www.alko.fi">
        <img src="/assets/alko-logo.svg" width="150px">
    </a>
    <h1>Alko API</h1>
</div>

Alko product API built with FastAPI. Includes an MCP server for LLM integration.

## Prerequisites

- [uv](https://docs.astral.sh/uv/) - Python package manager
- [Docker](https://www.docker.com/) (optional, for containerized deployment)

## Quick Start

```bash
make install   # Install dependencies
make fetch     # Download product data from Alko
make dev       # Start API with hot reload
```

The API will be available at `http://127.0.0.1:8000`.

## Makefile Commands

Run `make help` to see all available commands:

| Command | Description |
|---------|-------------|
| **Development** | |
| `make install` | Install dependencies |
| `make dev` | Run API locally with hot reload |
| `make fetch` | Fetch product data from Alko |
| `make mcp-dev` | Run MCP server locally |
| **Docker** | |
| `make build` | Build all Docker images |
| `make run` | Build and run all containers |
| `make stop` | Stop and remove all containers |
| `make restart` | Restart all containers |
| `make logs` | Follow API container logs |
| **Utilities** | |
| `make docs` | Open API docs in browser |

## Docker Deployment

Build and run the API and MCP server in containers:

```bash
make run       # Builds and starts all containers
make logs      # View API logs
make stop      # Stop all containers
```

- API available at `http://localhost:8080`
- MCP server available at `http://localhost:8081`

> [!NOTE]
> Create a `.env` file with your configuration before running containers.

## Health Check

Verify the API is running correctly at `/health`:

<div align="center">
    <img src="/assets/health-check.png" width="250px" alt="health check example">
</div>

## API Documentation

Interactive API documentation is auto-generated by FastAPI at `/docs`.

## MCP Server

The MCP server allows LLM clients (like Claude Desktop) to interact with the Alko API.

### Local Development

```bash
make mcp-dev   # Requires API to be running
```

### Claude Desktop Integration

Add the following to your `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "alko-mcp": {
      "command": "uv",
      "args": [
        "--directory",
        "/path/to/Alko-api",
        "run",
        "mcp/mcp_server.py"
      ]
    }
  }
}
```

> [!NOTE]
> The Alko API must be running for the MCP server to work.

<div align="center">
    <a href="#">
        <img src="/assets/claude_desktop_alko_mcp_example.png" width="500px" alt="Claude Desktop Alko MCP example" >
    </a>
</div>
